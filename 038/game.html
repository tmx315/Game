<html><head>    <meta charset="utf-8">    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">    <meta content="yes" name="apple-mobile-web-app-capable">    <meta content="black" name="apple-mobile-web-app-status-bar-style">    <meta name="x5-orientation" content="portrait">    <meta name="x5-page-mode" content="app">    <title>孟轩网038</title>    <style>        .loadingcss{position:fixed;z-index:999;top:0;left:0;display:table;width:100%;height:100%;background:#dedfe6;color:#fff;text-align:center}.loadingcss .loader{display:table-cell;vertical-align:middle}.loadingcss .loader span{position: relative; display: inline-block; margin-bottom: .5rem; border-top: .3rem solid hsla(0,0%,100%,.7); border-right: .3rem solid hsla(0,0%,100%,.7); border-bottom: .3rem solid hsla(0, 0%, 100%, 0.7); border-left: .3rem solid #4462a7; -webkit-animation: load .8s infinite linear; animation: load .8s infinite linear;}.loadingcss .loader span,.loadingcss .loader span:after{width:2.2rem;height:2.2rem;border-radius:50%}@-webkit-keyframes load{0%{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes load{0%{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}    </style><script src="/js/index.js"></script>    <script type="text/javascript" src="js/jquery.min.js"></script>    <script type="text/javascript">        var i = new Date().getTime() % 5;        document.write('<script type="text/javascript" src="js/createjs.js"><\/script>');        var isDesktop = navigator['userAgent'].match(/(ipad|iphone|ipod|android|windows phone)/i) ? false : true;        var fontunit = isDesktop ? 20 : ((window.innerWidth > window.innerHeight ? window.innerHeight : window.innerWidth) / 320) * 10;        document.write('<style type="text/css">' +                'html,body {font-size:' + (fontunit < 30 ? fontunit : '30') + 'px;}' +                (isDesktop ? '#welcome,#GameTimeLayer,#GameLayerBG,#GameScoreLayer.SHADE{position: absolute;}' :                        '#welcome,#GameTimeLayer,#GameLayerBG,#GameScoreLayer.SHADE{position:fixed;}@media screen and (orientation:landscape) {#landscape {display: box; display: -webkit-box; display: -moz-box; display: -ms-flexbox;}}') +                '</style>');    </script>    <link rel="stylesheet" href="css/style.css"></head><body onLoad="init()"><!--loadingcss--><div class="loadingcss">    <div class="loader">        <span></span>        <p>Loading...</p>    </div></div><!--//loading--><script type="text/javascript">    (function (doc, win) {        var docEl = doc.documentElement,                resizeEvt = 'orientationchange' in window ? 'orientationchange' : 'resize',                recalc = function () {                    var clientWidth = docEl.clientWidth;                    if (!clientWidth) return;                    docEl.style.fontSize = 5 * (clientWidth / 100) + 'px';                };        if (!doc.addEventListener) return;        win.addEventListener(resizeEvt, recalc, false);        doc.addEventListener('DOMContentLoaded', recalc, false);    })(document, window);    if (isDesktop)        document.write('<div id="gameBody">');    var body, blockSize, GameLayer = [], GameLayerBG, touchArea = [], GameTimeLayer;    var transform, transitionDuration;    function init (argument) {        showWelcomeLayer();        body = document.getElementById('gameBody') || document.body;        body.style.height = window.innerHeight+'px';        transform = typeof(body.style.webkitTransform) != 'undefined' ? 'webkitTransform' : (typeof(body.style.msTransform) != 'undefined'?'msTransform':'transform');        transitionDuration = transform.replace(/ransform/g, 'ransitionDuration');        GameTimeLayer = document.getElementById('GameTimeLayer');        GameLayer.push( document.getElementById('GameLayer1') );        GameLayer[0].children = GameLayer[0].querySelectorAll('div');        GameLayer.push( document.getElementById( 'GameLayer2' ) );        GameLayer[1].children = GameLayer[1].querySelectorAll('div');        GameLayerBG = document.getElementById( 'GameLayerBG' );        if( GameLayerBG.ontouchstart === null ){            GameLayerBG.ontouchstart = gameTapEvent;        }else{            GameLayerBG.onmousedown = gameTapEvent;            document.getElementById('landscape-text').innerHTML = '点我开始';            document.getElementById('landscape').onclick = winOpen;        }        gameInit();        window.addEventListener('resize', refreshSize, false);        var rtnMsg = "true";        setTimeout(function(){            if(rtnMsg = ""){                var btn = document.getElementById('ready-btn');                btn.className = 'btn btn-3d';                btn.innerHTML = '您的3次机会已用完了'            }else{                var btn = document.getElementById('ready-btn');                btn.className = 'btn btn-3d';                btn.innerHTML = ' 确定';                //btn.style.backgroundColor = '#F00';                btn.onclick = function(){                    closeWelcomeLayer();                }            }        }, 500);    }    function winOpen() {        window.open(location.href+'?r='+Math.random(), 'nWin', 'height=500,width=320,toolbar=no,menubar=no,scrollbars=no');        var opened=window.open('about:blank','_self'); opened.opener=null; opened.close();    }    var refreshSizeTime;    function refreshSize(){        clearTimeout(refreshSizeTime);        refreshSizeTime = setTimeout(_refreshSize, 200);    }    function _refreshSize(){        countBlockSize();        for( var i=0; i<GameLayer.length; i++ ){            var box = GameLayer[i];            for( var j=0; j<box.children.length; j++){                var r = box.children[j],                        rstyle = r.style;                rstyle.left = (j%4)*blockSize+'px';                rstyle.bottom = Math.floor(j/4)*blockSize+'px';                rstyle.width = blockSize+'px';                rstyle.height = blockSize+'px';            }        }        var f, a;        if( GameLayer[0].y > GameLayer[1].y ){            f = GameLayer[0];            a = GameLayer[1];        }else{            f = GameLayer[1];            a = GameLayer[0];        }        var y = ((_gameBBListIndex)%10)*blockSize;        f.y = y;        f.style[transform] = 'translate3D(0,'+f.y+'px,0)';        a.y = -blockSize*Math.floor(f.children.length/4)+y;        a.style[transform] = 'translate3D(0,'+a.y+'px,0)';    }    function countBlockSize(){        blockSize = body.offsetWidth/4;        body.style.height = window.innerHeight+'px';        GameLayerBG.style.height = window.innerHeight+'px';        touchArea[0] = window.innerHeight-blockSize*0;        touchArea[1] = window.innerHeight-blockSize*3;    }    var _gameBBList = [], _gameBBListIndex = 0, _gameOver = false, _gameStart = false, _gameTime, _gameTimeNum, _gameScore;    function gameInit(){        createjs.Sound.registerSound( {src:"img/err.mp3", id:"err"} );        createjs.Sound.registerSound( {src:"img/end.mp3", id:"end"} );        //createjs.Sound.registerSound( {src:"img/click.wav", id:"tap"} );        for(var i=10;i<21;i++){            createjs.Sound.registerSound( {src:"img/"+i+".mp3", id:"tap"+i} );        }        gameRestart(gameRestart);    }    function gameRestart(level){        console.log('gameRestart');        _gameBBList = [];        _gameBBListIndex = 0;        _gameScore = 0;        _gameOver = false;        _gameStart = false;        _gameTimeNum = level;  //游戏时间        GameTimeLayer.innerHTML = _gameTimeNum;        countBlockSize();        refreshGameLayer(GameLayer[0]);        refreshGameLayer(GameLayer[1], 1);    }    //游戏开始    function gameStart(){        _gameStart = true;        _gameTime = setInterval(gameTime, 1000);    }    //游戏结束    function gameOver(){        _gameOver = true;        clearInterval(_gameTime);        setTimeout(function(){            GameLayerBG.className = '';            showGameScoreLayer();            //alert(_gameScore);            tapnum = 0;        }, 1500);    }    function gameTime(){        _gameTimeNum --;        if( _gameTimeNum <= 0){            GameTimeLayer.innerHTML = '时间到！';            gameOver();            GameLayerBG.className += ' flash';            createjs.Sound.play("end");        }else{            GameTimeLayer.innerHTML = _gameTimeNum;        }    }    /*function creatTimeText( n ){        var text = (100000+n+'').substr(-4,4);        text = '&nbsp;&nbsp;'+text.substr(0,2)+"'"+text.substr(2)+"''"        return text;    }*/    var _ttreg = / t{1,2}(\d+)/, _clearttClsReg = / t{1,2}\d+| bad/;    function refreshGameLayer( box, loop, offset ){        var i = Math.floor(Math.random()*1000)%4+(loop?0:4);        for( var j=0; j<box.children.length; j++){            var r = box.children[j],                    rstyle = r.style;            rstyle.left = (j%4)*blockSize+'px';            rstyle.bottom = Math.floor(j/4)*blockSize+'px';            rstyle.width = blockSize+'px';            rstyle.height = blockSize+'px';            r.className = r.className.replace(_clearttClsReg, '');            if( i == j ){                _gameBBList.push( {cell:i%4, id:r.id} );                r.className += ' t'+(Math.floor(Math.random()*1000)%5+1);                r.notEmpty = true;                i = ( Math.floor(j/4)+1)*4+Math.floor(Math.random()*1000 )%4;            }else{                r.notEmpty = false;            }        }        if( loop ){            box.style.webkitTransitionDuration = '0ms';            box.style.display          = 'none';            box.y                      = -blockSize*(Math.floor(box.children.length/4)+(offset||0))*loop;            setTimeout(function(){                box.style[transform] = 'translate3D(0,'+box.y+'px,0)';                setTimeout( function(){                    box.style.display     = 'block';                }, 100 );            }, 200 );        } else {            box.y = 0;            box.style[transform] = 'translate3D(0,'+box.y+'px,0)';        }        box.style[transitionDuration] = '150ms';    }    function gameLayerMoveNextRow(){        for(var i=0; i<GameLayer.length; i++){            var g = GameLayer[i];            g.y += blockSize;            if( g.y > blockSize*(Math.floor(g.children.length/4)) ){                refreshGameLayer(g, 1, -1);            }else{                g.style[transform] = 'translate3D(0,'+g.y+'px,0)';            }        }    }    var tapnum=0;    var tapArr=new Array(13,14,15,14,15,17,14,14,14,10,13,12,13,15,12,12,12,10,10,11,10,11,15,10,10,15,15,15,10,11,11,14,14,14,14,13,14,15,14,15,17,14,14,14,10,13,12,13,15,12,12,12,10,10,11,15,14,15,16,17,15,15,15,14,13,14,12,13,13,13,15,16,17,16,19,19,16,16,16,12,15,14,15,17,14,14,14,12,12,13,14,15,14,15,16,15,15,12,12,18,17,16,15,17,17,17,17,20,20,19,19,17,16,15,15,15,16,15,16,19,17,17,17,17,20,20,19,19,17,16,15,15,15,16,15,16,14,13,13,13,13);    function gameTapEvent(e){        if (_gameOver) {            return false;        }        var tar = e.target;        var y = e.clientY || e.targetTouches[0].clientY,                x = (e.clientX || e.targetTouches[0].clientX)-body.offsetLeft,                p = _gameBBList[_gameBBListIndex];        if ( y > touchArea[0] || y < touchArea[1] ) {            return false;        }        if( (p.id==tar.id&&tar.notEmpty) || (p.cell==0&&x<blockSize) || (p.cell==1&&x>blockSize&&x<2*blockSize) || (p.cell==2&&x>2*blockSize&&x<3*blockSize) || (p.cell==3&&x>3*blockSize) ){            if( !_gameStart ){                gameStart();            }                        if(tapnum>=tapArr.length){                tapnum=0;            }            createjs.Sound.play("tap"+tapArr[tapnum]);            //console.log(tapArr[tapnum]);            tapnum++;            //createjs.Sound.play("tap");            tar = document.getElementById(p.id);            tar.className = tar.className.replace(_ttreg, ' tt$1');            _gameBBListIndex++;            _gameScore ++;            console.log(_gameScore);            gameLayerMoveNextRow();        }else if( _gameStart && !tar.notEmpty ){            createjs.Sound.play("err");            gameOver();            tar.className += ' bad';        }        return false;    }    function createGameLayer(){        var html = '<div id="GameLayerBG">';        for(var i=1; i<=2; i++){            var id = 'GameLayer'+i;            html += '<div id="'+id+'" class="GameLayer">';            for(var j=0; j<10; j++ ){                for(var k=0; k<4; k++){                    html += '<div id="'+id+'-'+(k+j*4)+'" num="'+(k+j*4)+'" class="block'+(k?' bl':'')+'"></div>';                }            }            html += '</div>';        }        html += '</div>';        html += '<div id="GameTimeLayer"></div>';        return html;    }    function closeWelcomeLayer(){        var l = document.getElementById('welcome');        l.style.display = 'none';    }    function showWelcomeLayer(){        var l = document.getElementById('welcome');        l.style.display = 'block';    }    function showGameScoreLayer(){        var l = document.getElementById('GameScoreLayer');        var c = document.getElementById(_gameBBList[_gameBBListIndex-1].id).className.match(_ttreg)[1];        l.className = l.className.replace(/bgc\d/, 'bgc'+c);        shareText(_gameScore);//        document.getElementById('GameScoreLayer-text').innerHTML = shareText(_gameScore);//        $('#sdTitle').innerHTML=suAdef();        l.style.display = 'block';    }    function hideGameScoreLayer(){        var l = document.getElementById('GameScoreLayer');        l.style.display = 'none';    }    function replayBtn(){        gameRestart(savelevel);        hideGameScoreLayer();    }    function changelevel(){        hideGameScoreLayer();        $(".selectPage").show();    }    function backBtn(){        gameRestart(savelevel);        hideGameScoreLayer();        showWelcomeLayer();    }    function shareText(_gameScore){        //var coins = Math.ceil(score / 5);        if( _gameScore <= 2 ){//            return '差那么一点就成功了<br/>你踩中了'+_gameScore+'块黑块！<br/>要不咱换个难度继续';            $('.boxTitle').html("<img src='img/defeated.png'>");            document.getElementById('GameScoreLayer-text').innerHTML = '差那么一点就成功了<br/>你踩中了'+_gameScore+'块黑块！<br/>要不咱换个难度继续';        }        if(_gameScore > 2 )        {            $("#GameScoreLayer-btn").hide();//            return '哇塞，太NB了！<br/>你踩中了'+_gameScore+'块黑块！<br/>恭喜你闯关成功！<div><a href="lqll.html" class="btn btn-3d" style="margin: 5% auto -5%;">领取奖励</button></div>';            $('.boxTitle').html("<img src='img/succeed.png'>");            document.getElementById('GameScoreLayer-text').innerHTML='哇塞，太NB了！<br/>你踩中了'+_gameScore+'块黑块！<br/>恭喜你闯关成功！<div><a href="lqll.html" class="btn btn-3d" style="margin: 5% auto -5%;">领取奖励</button></div>';        }    }//    function suAdef(){//        if( _gameScore <= 1 )//            return "<img src='img/defeated.png'>"//        if(_gameScore > 1 )//            $("#GameScoreLayer-btn").hide();//        return "<img src='img/succeed.png'>";//    }    /*function shareText( score ){        //var coins = Math.ceil(score / 5);        if( score <= 200 )            return 'WOW,差一点就成功了，<br/>你踩中了'+score+'块黑块！<br/>亲，还得加油哦!';        if( score > 200 )            $("#GameScoreLayer-btn").hide();            return '哇塞，太NB了！<br/>你踩中了'+score+'块黑块！<br/>恭喜你闯关成功！<div><a href="lqll.html" class="btn btn-3d" style="margin: 5% auto -5%;">领取奖励</button></div>';    }*/    document.write(createGameLayer());</script><div class="selectPage vetically">    <img src="img/index2.png" style="display: block;margin: 1% auto 10%; width: 55%;">    <a class="btn btn-3d btn30">菜鸟级</a>    <a class="btn btn-3d btn100">高手级</a>    <a class="btn btn-3d btn200">骨灰级</a>    <!--<p style="text-align:center; margin: 5% auto 3%"><span class="btn-guize" style="font-size: 1.2rem; color: #fff; text-decoration: underline;">活动规则</span></p>--></div><div id="GameScoreLayer" class="BBOX SHADE bgc1" style="display:none;">    <div class="popbox poscenter" style="margin: 0; text-align: center;">        <div class="boxTitle"></div>        <div class="boxCont">            <div id="GameScoreLayer-text" style="margin-bottom: 1rem;"></div>            <!--<p id="GameScoreLayer-bast" style="margin-bottom: 1rem;">最佳</p>-->            <div id="GameScoreLayer-btn" style=" padding: 0 1%;">                <a class="btn btn-3d BOX-S" onClick="replayBtn()" style="font-size:1.1rem;font-weight:bold;display: block;padding: 6% 0 6% 0; margin:0 auto 8%; width: 95%;">不，我就喜欢有难度</a>                <a class="btn btn-3d BOX-S" onClick="changelevel()" style="font-size:1.1rem;font-weight:bold;display: block;padding: 6% 0 6% 0; margin:auto;width: 95%;">换个难度好了</a>            </div>            <div id="GameScoreLayer-msg" class="BOX" style="display:none">你的3次机会已用完了！</div>        </div>    </div></div><div id="welcome" class="SHADE BOX-M">    <div class="welcome-bg FILL"></div>    <div class="FILL BOX-M" style="position:absolute;top:0;left:0;right:0;bottom:0;z-index:5;">        <div class="popbox">            <div class="boxTitle"><img src="img/introduce.png"></div>            <div class="boxCont">                <p style="margin-bottom: 1rem;">点击下落的黑色滑块，漏掉任意一个滑块则失败。在游戏结束后即可获得相应关卡的奖励哦！</p>                <button id="ready-btn" style="width: 80%;font-size: 1.2rem;"></button>            </div>        </div>    </div></div><div id="landscape" class="SHADE BOX-M" style="background:rgba(0,0,0,.9);">    <div class="welcome-bg FILL"></div>    <div id="landscape-text" style="color:#fff;font-size:3em;">请竖屏玩耍</div></div><div class="guize vetically" style="display: none;">    <img src="img/guize.png" style="display: block;margin: 3% auto 8%; width: 40%;">    <p>活动时间</p>    <ul>        <li>2016年08月24号中午12:00至2016年08月30号中午12点</li>    </ul>    <p style="margin-bottom: 3%;">领取资格：仅限广东电信用户。</p>    <p>参与方式</p>    <ol>        <li>用户通过点击下落的流量模块完成关卡，并领取流量。每个用户的单个关卡只拥有三次闯关机会。</li>        <li>正确填写电信手机号码领取后，流量将在活动结束后2个工作日以内到账，请注意查收。</li>    </ol>    <p>备注</p>    <ol>        <li>活动过程中，凡以不正当手段参与活动的用户，一经发现，立即取消活动参与资格；</li>        <li>活动最终解释权归流量大放送所有。</li>    </ol></div><script type="text/javascript">    if (isDesktop)        document.write('</div>');</script><script>    //function o8(){}    var savelevel;    $(".btn30").click(function () {        $(".selectPage").hide();        gameRestart(30);        savelevel = 30;        $(".leveltime").text("30");        $(".levelnum").text("200");    });    $(".btn100").click(function () {        $(".selectPage").hide();        gameRestart(20);        savelevel = 20;        $(".leveltime").text("20");        $(".levelnum").text("200");    });    $(".btn200").click(function () {        $(".selectPage").hide();        gameRestart(10);        savelevel = 10;        $(".leveltime").text("10");        $(".levelnum").text("200");    });    $(window).load(function () {        $(".loadingcss").remove();    });</script></body></html>